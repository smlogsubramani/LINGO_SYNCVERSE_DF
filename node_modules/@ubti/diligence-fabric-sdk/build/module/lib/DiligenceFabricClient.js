import { ApplicationService } from './services/Application/ApplicationService';
import { ApplicationRoleService } from './services/Application/AppRole/AppRoleService';
import { MenuService } from './services/Application/AppMenu/AppMenuService';
import { UserService } from './services/User/UserService';
import { AuthService } from './services/Auth/AuthService';
import { configure } from '../config';
import { AuthenticationTypeService } from './services/AuthenticationType/AuthenticationTypeService';
import { DFLoggerService } from './services/DFLogger/DFLoggerService';
import { VerifyService } from './services/Verify/VerifyService';
// eslint-disable-next-line functional/no-class
export class DiligenceFabricClient {
    menuService;
    authService;
    applicationService;
    authenticationTypeService;
    userService;
    applicationRoleService;
    userToken = null;
    appId;
    tenantId;
    appEnvironmentCODE;
    userConfig;
    dfLoggerService;
    verifyService;
    constructor(config) {
        // Load configs
        this.userConfig = configure(config);
        // Initialize the service objects
        this.appId = this.userConfig.appId;
        this.tenantId = this.userConfig.tenantId;
        this.appEnvironmentCODE = this.userConfig.appEnvironmentCODE;
        this.menuService = new MenuService(this.appId, this.tenantId);
        this.authService = new AuthService(this.appId, this.tenantId, this.appEnvironmentCODE);
        this.applicationService = new ApplicationService(this.appId, this.tenantId);
        this.userService = new UserService(this.appId, this.tenantId);
        this.applicationRoleService = new ApplicationRoleService(this.appId, this.tenantId, this.appEnvironmentCODE);
        this.authenticationTypeService = new AuthenticationTypeService(this.appId, this.tenantId);
        this.dfLoggerService = new DFLoggerService(this.appId, this.tenantId);
        this.verifyService = new VerifyService(this.appId, this.tenantId, this.appEnvironmentCODE);
    }
    setAuthUser(authUser) {
        this.userToken = authUser.Token;
    }
    getUserToken() {
        if (!this.userToken) {
            throw new Error('User token not set. Please call setAuthUser() first.');
        }
        return this.userToken;
    }
    getDFLoggerService() {
        try {
            this.dfLoggerService.setUserToken(this.getUserToken());
        }
        catch (ex) {
            console.log(ex);
        }
        return this.dfLoggerService;
    }
    getAuthenticationTypeService() {
        return this.authenticationTypeService;
    }
    getApplicationService() {
        this.applicationService.setUserToken(this.getUserToken());
        return this.applicationService;
    }
    getUserService() {
        this.userService.setUserToken(this.getUserToken());
        return this.userService;
    }
    getMenuService() {
        this.menuService.setUserToken(this.getUserToken());
        return this.menuService;
    }
    getApplicationRoleService() {
        this.applicationRoleService.setUserToken(this.getUserToken());
        return this.applicationRoleService;
    }
    getAuthService() {
        try {
            this.authService.setUserToken(this.getUserToken());
        }
        catch (ex) {
            console.log(ex);
        }
        return this.authService;
    }
    getVerifyService() {
        try {
            this.verifyService.setUserToken(this.getUserToken());
        }
        catch (ex) {
            console.log(ex);
        }
        return this.verifyService;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGlsaWdlbmNlRmFicmljQ2xpZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2xpYi9EaWxpZ2VuY2VGYWJyaWNDbGllbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sMkNBQTJDLENBQUM7QUFDL0UsT0FBTyxFQUFFLHNCQUFzQixFQUFFLE1BQU0sK0NBQStDLENBQUM7QUFDdkYsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLCtDQUErQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxXQUFXLEVBQUUsTUFBTSw2QkFBNkIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sNkJBQTZCLENBQUM7QUFFMUQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQTtBQUVyQyxPQUFPLEVBQUUseUJBQXlCLEVBQUUsTUFBTSx5REFBeUQsQ0FBQztBQUdwRyxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0scUNBQXFDLENBQUM7QUFDdEUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLGlDQUFpQyxDQUFDO0FBQ2hFLCtDQUErQztBQUMvQyxNQUFNLE9BQU8scUJBQXFCO0lBQ3RCLFdBQVcsQ0FBYztJQUN6QixXQUFXLENBQWM7SUFDekIsa0JBQWtCLENBQXFCO0lBQ3ZDLHlCQUF5QixDQUEyQjtJQUNwRCxXQUFXLENBQWM7SUFDekIsc0JBQXNCLENBQXlCO0lBQy9DLFNBQVMsR0FBa0IsSUFBSSxDQUFDO0lBQ2hDLEtBQUssQ0FBUztJQUNkLFFBQVEsQ0FBUztJQUNqQixrQkFBa0IsQ0FBUTtJQUMxQixVQUFVLENBQWE7SUFDdkIsZUFBZSxDQUFrQjtJQUNqQyxhQUFhLENBQWdCO0lBRXJDLFlBQVksTUFBWTtRQUNwQixlQUFlO1FBQ2YsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDcEMsaUNBQWlDO1FBQ2pDLElBQUks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