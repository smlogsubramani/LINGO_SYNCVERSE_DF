"use strict";
/**
 * Service class for managing application menus.
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.MenuService = void 0;
const config_1 = require("../../../../config");
const Request_1 = require("../../../../core/Request");
// eslint-disable-next-line functional/no-class
class MenuService {
    constructor(appId, tenantId) {
        this.headers = {};
        this.userId = 0;
        this.tenantId = 0;
        this.tenantId = tenantId;
        this.appId = appId;
    }
    setUserToken(token) {
        var _a, _b;
        this.headers = { 'Content-Type': 'application/json', 'Authorization': `Bearer ${token}` };
        const decodedData = JSON.parse(atob(token.split('.')[1]));
        this.userId = parseInt((_a = decodedData === null || decodedData === void 0 ? void 0 : decodedData.userId) !== null && _a !== void 0 ? _a : '0', 10);
        this.tenantId = parseInt((_b = decodedData === null || decodedData === void 0 ? void 0 : decodedData.TenantID) !== null && _b !== void 0 ? _b : '0', 10);
    }
    /**
     * Retrieves the application menu or a specific menu item by ID.
     * @param requestBody The ID of the menu item to retrieve.
     * @returns The application menu or the specific menu item if an ID is provided, or undefined if not found.
     */
    get(requestBody) {
        // Implement the login logic here
        // Set the isLoggedIn property accordingly
        // LoggerService.Logger.info("Initialized getUserAppRole")
        const url = requestBody.AppMenuID ? config_1.SdkConfig.ServiceConfig.AppMenuService.GET : config_1.SdkConfig.ServiceConfig.AppMenuService.GETALL;
        requestBody.AppID = this.appId;
        requestBody.TenantID = this.tenantId;
        requestBody.CalledBy = this.userId;
        return (0, Request_1.request)(config_1.SdkConfig, {
            method: 'POST',
            url: url,
            body: requestBody,
            mediaType: 'application/json',
            headers: this.headers,
        });
    }
    update(requestBody) {
        const url = config_1.SdkConfig.ServiceConfig.AppMenuService.UPDATE;
        requestBody.AppID = this.appId;
        requestBody.TenantID = this.tenantId;
        requestBody.CalledBy = this.userId;
        return (0, Request_1.request)(config_1.SdkConfig, {
            method: 'POST',
            url: url,
            body: requestBody,
            mediaType: 'application/json',
            headers: this.headers,
        });
    }
    /**
     * Deletes an application menu item by ID.
     * @param MenuID The ID of the menu item to delete.
     * @returns True if the menu item was successfully deleted, false if not found.
     */
    delete(requestBody) {
        const url = config_1.SdkConfig.ServiceConfig.AppMenuService.DELETE;
        return (0, Request_1.request)(config_1.SdkConfig, {
            method: 'POST',
            url: url,
            body: requestBody,
            mediaType: 'application/json',
            headers: this.headers
        });
    }
    /**
     * Creates an application menu item by ID.
     * @param MenuID The ID of the menu item to create.
     * @returns True if the menu item was successfully created, false if not found.
     */
    create(requestBody) {
        const url = config_1.SdkConfig.ServiceConfig.AppMenuService.CREATE;
        return (0, Request_1.request)(config_1.SdkConfig, {
            method: 'POST',
            url: url,
            body: requestBody,
            mediaType: 'application/json',
            headers: this.headers
        });
    }
}
exports.MenuService = MenuService;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwTWVudVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvbGliL3NlcnZpY2VzL0FwcGxpY2F0aW9uL0FwcE1lbnUvQXBwTWVudVNlcnZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOztHQUVHOzs7QUFFSCwrQ0FBK0M7QUFFL0Msc0RBQW1EO0FBYW5ELCtDQUErQztBQUMvQyxNQUFhLFdBQVc7SUFLcEIsWUFBWSxLQUFhLEVBQUUsUUFBZ0I7UUFKbkMsWUFBTyxHQUEyQixFQUFFLENBQUM7UUFDckMsV0FBTSxHQUFHLENBQUMsQ0FBQztRQUNYLGFBQVEsR0FBRyxDQUFDLENBQUM7UUFHakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFDeEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDdEIsQ0FBQztJQUVNLFlBQVksQ0FBQyxLQUFhOztRQUM3QixJQUFJLENBQUMsT0FBTyxHQUFHLEVBQUUsY0FBYyxFQUFFLGtCQUFrQixFQUFFLGVBQWUsRUFBRSxVQUFVLEtBQUssRUFBRSxFQUFFLENBQUM7UUFDMUYsTUFBTSxXQUFXLEdBQTJDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xHLElBQUksQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQUEsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLE1BQU0sbUNBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3ZELElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLE1BQUEsV0FBVyxhQUFYLFdBQVcsdUJBQVgsV0FBVyxDQUFFLFFBQVEsbUNBQUksR0FBRyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBQy9ELENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksR0FBRyxDQUFDLFdBQXVCO1FBQzlCLGlDQUFpQztRQUNqQywwQ0FBMEM7UUFDMUMsMERBQTBEO1FBRzFELE1BQU0sR0FBRyxHQUFHLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLGtCQUFTLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLGtCQUFTLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUM7UUFDL0gsV0FBVyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBO1FBQzlCLFdBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUNyQyxXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUM7UUFFbkMsT0FBTyxJQUFBLGlCQUFPLEVBQUMsa0JBQVMsRUFBRTtZQUN0QixNQUFNLEVBQUUsTUFBTTtZQUNkLEdBQUcsRUFBRSxHQUFHO1lBQ1IsSUFBSSxFQUFFLFdBQVc7WUFDakIsU0FBUyxFQUFFLGtCQUFrQjtZQUM3QixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDeEIsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVNLE1BQU0sQ0FBQyxXQUEwQjtRQUNwQyxNQUFNLEdBQUcsR0FBRyxrQkFBUyxDQUFDLGFBQWEsQ0FBQyxjQUFjLENBQUMsTUFBTSxDQUFDO1FBQzFELFdBQVcsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQTtRQUM5QixXQUFXLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUM7UUFDckMsV0FBVyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBRW5DLE9BQU8sSUFBQSxpQkFBTyxFQUFDLGtCQUFTLEVBQUU7WUFDdEIsTUFBTSxFQUFFLE1BQU07WUFDZCxHQUFHLEVBQUUsR0FBRztZQUNSLElBQUksRUFBRSxXQUFXO1lBQ2pCLFNBQVMsRUFBRSxrQkFBa0I7WUFDN0IsT0FBTyxFQUFFLElBQUksQ0FBQyxPQUFPO1NBQ3hCLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRDs7OztPQUlHO0lBQ0ksTUFBTSxDQUFDLFdBQTBCO1FBQ3BDLE1BQU0sR0FBRyxHQUFHLGtCQUFTLENBQUMsYUFBYSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUE7UUFFekQsT0FBTyxJQUFBLGlCQUFPLEVBQUMsa0JBQVMsRUFBRTtZQUN0QixNQUFNLEVBQUUsTUFBTTtZQUNkLEdBQUcsRUFBRSxHQUFHO1lBQ1IsSUFBSSxFQUFFLFdBQVc7WUFDakIsU0FBUyxFQUFFLGtCQUFrQjtZQUM3QixPQUFPLEVBQUUsSUFBSSxDQUFDLE9BQU87U0FDeEIsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVEOzs7O09BSUc7SUFDSSxNQUFNLENBQUMsV0FBMEI7UUFDcEMsTUFBTSxHQUFHLEdBQUcsa0JBQVMsQ0FBQyxhQUFhLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQTtRQUV6RCxPQUFPLElBQUEsaUJBQU8sRUFBQyxrQkFBUyxFQUFFO1lBQ3RCLE1BQU0sRUFBRSxNQUFNO1lBQ2QsR0FBRyxFQUFFLEdBQUc7WUFDUixJQUFJLEVBQUUsV0FBVztZQUNqQixTQUFTLEVBQUUsa0JBQWtCO1lBQzdCLE9BQU8sRUFBRSxJQUFJLENBQUMsT0FBTztTQUN4QixDQUFDLENBQUM7SUFDUCxDQUFDO0NBZ0JKO0FBM0dELGtDQTJHQyJ9