"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.configure = exports.loadConfig = exports.SdkConfig = exports.getEnvVariable = void 0;
const isBrowser = typeof window !== 'undefined';
// let config = {} as any;
if (!isBrowser) {
    Promise.resolve().then(() => __importStar(require('dotenv/config')));
    // import('config').then((value) => {
    //     config = value;
    // })
}
const getEnvVariable = (key, defaultValue) => {
    if (isBrowser) {
        return defaultValue;
    }
    else {
        // On server side, return any environment variable
        const rtnValue = process.env[key] || defaultValue;
        console.log(`Checking value on Server Side ${key} value is ${rtnValue}`);
        return rtnValue;
    }
};
exports.getEnvVariable = getEnvVariable;
const API_VERSION = (0, exports.getEnvVariable)('API_VERSION', 'v1');
exports.SdkConfig = {
    ServiceConfig: {
        BaseURL: 'https://ubti-d-df-api.azurewebsites.net',
        LoginServiceURL: `/api/${API_VERSION}/Auth/DownstreamAppLogin`,
        AuthService: {
            CHANGEPASS: `/api/${API_VERSION}/User/ChangeUserPassword`,
            FORGOTPASS: `/api/${API_VERSION}/Auth/ForgotPassword`,
            GENERATETOKEN: `/api/${API_VERSION}/Auth/generate-token`,
            ValidateToken: `/api/${API_VERSION}/Auth/ValidateToken`,
            ValidateTenant: `/api/${API_VERSION}/User/ValidateTenantDetails`,
            Register: `/api/${API_VERSION}/Auth/Register`,
            IsDomainExist: `/api/${API_VERSION}/Auth/IsDomainExist`,
            IsRegistered: `/api/${API_VERSION}/Auth/IsRegistered`
        },
        VerifyService: {
            IsEmailVerified: `/api/${API_VERSION}/Verify/IsEmailVerified`,
            ReVerify: `/api/${API_VERSION}/Verify/ReVerify`,
            Verify: `/api/${API_VERSION}/Verify`
        },
        AuthenticationTypeService: {
            GET: `/api/${API_VERSION}/AuthenticationType/GetAuthenticationType`,
            GETNEW: `/api/${API_VERSION}/AuthenticationType/GetDownStreamAuthenticationType`
        },
        OrganizationService: {
            GET: `/api/${API_VERSION}/Organization/GetOrganization`,
            GETALL: `/api/${API_VERSION}/Organization/GetAllOrganizationsByTenantID`,
            CREATE: `/api/${API_VERSION}/Organization/Organization`,
            UPDATE: `/api/${API_VERSION}/Organization`,
            DELETE: `/api/${API_VERSION}/Organization/DeleteOrganization`
        },
        ApplicationService: {
            GET: `/api/${API_VERSION}/App/GetApp`,
            GETALL: `/api/${API_VERSION}/App/GetAllApps`,
            CREATE: `/api/${API_VERSION}/App/App`,
            UPDATE: `/api/${API_VERSION}/App`,
            DELETE: `/api/${API_VERSION}/App/DeleteApp`,
            GETLOGO: `/api/${API_VERSION}/App/GetDownstreamAppLogo`,
        },
        AppModuleService: {
            GET: `/api/${API_VERSION}/AppMenu/GetAppMenu`,
            GETALL: `/api/${API_VERSION}/AppMenu/GetAppMenuList`,
            CREATE: `/api/${API_VERSION}/AppMenu/InsertAppMenu`,
            UPDATE: `/api/${API_VERSION}/AppMenu/UpdateAppMenu`,
            DELETE: `/api/${API_VERSION}/AppMenu/DeleteAppMenu`
        },
        AppMenuService: {
            GET: `/api/${API_VERSION}/AppMenu/GetAppMenu`,
            GETALL: `/api/${API_VERSION}/AppMenu/GetAppMenuList`,
            CREATE: `/api/${API_VERSION}/AppMenu/InsertAppMenu`,
            UPDATE: `/api/${API_VERSION}/AppMenu/UpdateAppMenu`,
            DELETE: `/api/${API_VERSION}/AppMenu/DeleteAppMenu`
        },
        UserService: {
            GET: `/api/${API_VERSION}/User/GetUser`,
            VALIDATE: `/api/${API_VERSION}/User/ValidateUser`,
            FORGOTPASS: `/api/${API_VERSION}/User/ChangeUserPassword`,
            VALIDATERESETTOKEN: `/api/${API_VERSION}/User/ValidateResetPasswordToken`,
            GETALL: `/api/${API_VERSION}/User/GetAllUsers`,
            CREATE: `/api/${API_VERSION}/User/User`,
            UPDATE: `/api/${API_VERSION}/User`,
            DELETE: `/api/${API_VERSION}/User/DeleteUser`
        },
        UserAppRoleService: {
            GETALL: `/api/${API_VERSION}/UserAppRole/GetUserAppRoles`,
            CREATE: `/api/${API_VERSION}/UserAppRole/InsertUserAppRole`
        },
        AppMenuAppRoleService: {
            GET: `/api/${API_VERSION}/AppMenuAppRole/GetAppMenuAppRoles`,
            GETALL: "",
            CREATE: "",
            UPDATE: "",
            DELETE: ""
        },
        DFLoggerService: {
            CREATE: `/api/${API_VERSION}/Log/Insert`,
        }
    },
    APIVersion: "",
    WithCredentials: false,
    Headers: undefined,
    Token: ""
};
function loadConfig() {
    try {
        // eslint-disable-next-line functional/no-let
        let appId = null, tenantId = null;
        // if (config.has('appId')) appId = config.get('appId');
        // if (config.has('tenantId')) tenantId = config.get('tenantId');
        const userConfig = {
            appId: parseInt((0, exports.getEnvVariable)('DF_APP_ID', appId)),
            tenantId: parseInt((0, exports.getEnvVariable)('DF_TENANT_ID', tenantId)),
            apiUrl: (0, exports.getEnvVariable)('DF_API_URL', 'https://ubti-d-df-api.azurewebsites.net'),
            apiVersion: (0, exports.getEnvVariable)('DF_API_VERSION', 'v1'),
            appEnvironmentCODE: (0, exports.getEnvVariable)('DF_AppEnvironmentCODE', 'No value')
        };
        // Assign the userConfig values to SdkConfig
        exports.SdkConfig.ServiceConfig.BaseURL = userConfig.apiUrl;
        exports.SdkConfig.APIVersion = userConfig.apiVersion;
        return userConfig;
    }
    catch (error) {
        console.error('Error loading configuration:', error);
        throw Error("Error loading configuration");
    }
}
exports.loadConfig = loadConfig;
function configure(conf) {
    try {
        // eslint-disable-next-line functional/no-let
        if (!isBrowser && conf == undefined) {
            return loadConfig();
        }
        else {
            const userConfig = {
                appId: parseInt((0, exports.getEnvVariable)('DF_APP_ID', conf.DF_APP_ID.toString())),
                tenantId: parseInt((0, exports.getEnvVariable)('DF_TENANT_ID', conf.DF_TENANT_ID.toString())),
                apiUrl: (0, exports.getEnvVariable)('DF_API_URL', conf.DF_API_URL.toString()),
                appEnvironmentCODE: (0, exports.getEnvVariable)('DF_AppEnvironmentCODE', conf.DF_AppEnvironmentCODE.toString()),
                apiVersion: (0, exports.getEnvVariable)('DF_API_VERSION', conf.DF_API_VERSION.toString()),
            };
            exports.SdkConfig.ServiceConfig.BaseURL = userConfig.apiUrl;
            exports.SdkConfig.APIVersion = userConfig.apiVersion;
            return userConfig;
        }
    }
    catch (error) {
        console.error('Error loading configuration:', error);
        throw Error("Error loading configuration");
    }
}
exports.configure = configure;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlnLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbmZpZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUtBLE1BQU0sU0FBUyxHQUFHLE9BQU8sTUFBTSxLQUFLLFdBQVcsQ0FBQztBQUNoRCwwQkFBMEI7QUFDMUIsSUFBSSxDQUFDLFNBQVMsRUFBRTtJQUNaLGtEQUFPLGVBQWUsSUFBQztJQUN2QixxQ0FBcUM7SUFDckMsc0JBQXNCO0lBQ3RCLEtBQUs7Q0FDUjtBQUVNLE1BQU0sY0FBYyxHQUFHLENBQUMsR0FBVyxFQUFFLFlBQW9CLEVBQXNCLEVBQUU7SUFDcEYsSUFBSSxTQUFTLEVBQUU7UUFDWCxPQUFPLFlBQVksQ0FBQztLQUN2QjtTQUFNO1FBQ0gsa0RBQWtEO1FBQ2xELE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksWUFBWSxDQUFDO1FBQ2xELE9BQU8sQ0FBQyxHQUFHLENBQUMsaUNBQWlDLEdBQUcsYUFBYSxRQUFRLEVBQUUsQ0FBQyxDQUFDO1FBQ3pFLE9BQU8sUUFBUSxDQUFDO0tBQ25CO0FBQ0wsQ0FBQyxDQUFDO0FBVFcsUUFBQSxjQUFjLGtCQVN6QjtBQUdGLE1BQU0sV0FBVyxHQUFHLElBQUEsc0JBQWMsRUFBQyxhQUFhLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0MsUUFBQSxTQUFTLEdBQWM7SUFDaEMsYUFBYSxFQUFFO1FBQ1gsT0FBTyxFQUFFLHlDQUF5QztRQUNsRCxlQUFlLEVBQUUsUUFBUSxXQUFXLDBCQUEwQjtRQUM5RCxXQUFXLEVBQUU7WUFDVCxVQUFVLEVBQUUsUUFBUSxXQUFXLDBCQUEwQjtZQUN6RCxVQUFVLEVBQUUsUUFBUSxXQUFXLHNCQUFzQjtZQUNyRCxhQUFhLEVBQUUsUUFBUSxXQUFXLHNCQUFzQjtZQUN4RCxhQUFhLEVBQUUsUUFBUSxXQUFXLHFCQUFxQjtZQUN2RCxjQUFjLEVB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